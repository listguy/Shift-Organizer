(this["webpackJsonpshift-organizer"]=this["webpackJsonpshift-organizer"]||[]).push([[0],{34:function(n,e,t){},42:function(n,e,t){},43:function(n,e,t){"use strict";t.r(e);var i=t(2),r=t(1),a=t.n(r),o=t(21),s=t.n(o),c=(t(34),t(4)),u=t(15),l=t(6),f=t.n(l),h=t(7),d=t(5),v=t(3),m=t.n(v);function g(){var n=Object(c.a)(["\n  background-color: rgb(149, 7, 38);\n  display: flex;\n  flex-direction: column;\n  height: 30%;\n  margin: 3% 2%;\n  padding: 4px;\n  font-size: 1.5em;\n  border-radius: 10px;\n  font-style: italic;\n  box-shadow: 0px 0px 6px 4px rgba(116, 8, 31, 0.8);\n\n  span {\n    font-weight: bold;\n    font-style: initial;\n    margin-bottom: 4%;\n  }\n"]);return g=function(){return n},n}function p(){var n=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 14%;\n  margin: 0 auto;\n  text-align: center;\n\n  h2 {\n    font-size: 2em;\n    text-shadow: 0px 0px 4px #f7f2f2;\n  }\n"]);return p=function(){return n},n}function b(){var n=Object(c.a)(["\n  display: flex;\n  width: 90vw;\n  min-height: 40vh;\n  margin: 0 auto;\n"]);return b=function(){return n},n}var S=["Sunday","Monday","Tuseday","Wednesday","Thursday","Friday","Saturday"];function y(n){var e=n.shifts,t=n.replaceFunc,a=Object(r.useCallback)(function(){var n=Object(h.a)(f.a.mark((function n(e){var i,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.fire({title:"Enter Student to Assign Name",input:"text",showCancelButton:!0,inputPlaceholder:"Name...",inputValidator:function(n){return n?null:"Please enter a valid name"}});case 2:i=n.sent,(r=i.value)&&(t(r,e)?m.a.fire("Woohoo!","Student ".concat(r," was assigned successfuly!"),"success"):m.a.fire("Oops..","can't assign ".concat(r," to this shift :("),"error"));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[]);return Object(i.jsxs)(j,{children:[null===e||void 0===e?void 0:e.map((function(n,e){var t,r,o,s,c,u;return Object(i.jsxs)(w,{children:[Object(i.jsx)("h2",{children:S[e]}),Object(i.jsxs)(k,{onClick:function(){return a(n.getMorning())},children:[Object(i.jsx)("span",{children:"Morning"}),null===n||void 0===n||null===(t=n.getMorning())||void 0===t||null===(r=t.chosen)||void 0===r?void 0:r.name]}),Object(i.jsxs)(k,{onClick:function(){return a(n.getNoon())},children:[Object(i.jsx)("span",{children:"Noon"}),null===n||void 0===n||null===(o=n.getNoon())||void 0===o||null===(s=o.chosen)||void 0===s?void 0:s.name]}),Object(i.jsxs)(k,{onClick:function(){return a(n.getEvening())},children:[Object(i.jsx)("span",{children:"Evening"}),null===n||void 0===n||null===(c=n.getEvening())||void 0===c||null===(u=c.chosen)||void 0===u?void 0:u.name]})]})}))," "]})}var j=d.a.div(b()),w=d.a.div(p()),k=d.a.div(g()),x=t(9),O=t(10),T=864e5,P=6048e5,C=288e5,A=["Sunday","Monday","Tuseday","Wednesday","Thursday","Friday","Saturday"],E=function(){function n(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(x.a)(this,n),this.day=void 0,this.week=void 0,this.time=void 0,this.timeStamp=void 0,this.isSpecial=void 0,this.unavailable=[],this.chosen=void 0,this.day=e,this.week=t,this.time=i,this.isSpecial=r,this.timeStamp=t*P+e*T+C*("morning"===i?0:"noon"===i?1:2)}return Object(O.a)(n,[{key:"assignStudent",value:function(n){this.chosen=n,this.chosen.handlePrefOfShift(this,"assign"),n.addShift(this)}},{key:"unassignStudent",value:function(){var n,e;null===(n=this.chosen)||void 0===n||n.removeShift(this),null===(e=this.chosen)||void 0===e||e.handlePrefOfShift(this,"unassign"),this.chosen=void 0}},{key:"addUnavailable",value:function(n){this.unavailable.push(n)}},{key:"removeUnavailable",value:function(n){var e=this.unavailable.findIndex((function(e){return e===n}));-1!==e&&this.unavailable.splice(e,1)}},{key:"isStudentUnavailable",value:function(n){return this.unavailable.includes(n)}},{key:"printUnavailable",value:function(){var n=this.unavailable.map((function(n){return n.name}));console.log(n)}},{key:"isAdjacent",value:function(e){return e instanceof n!==!1&&(e.timeStamp===this.timeStamp-C||e.timeStamp===this.timeStamp+C)}},{key:"hasSameStudent",value:function(e){return e instanceof n!==!1&&e.chosen===this.chosen}},{key:"prettyPrintTime",value:function(){return"".concat(A[this.day],", ").concat(this.time," week ").concat(this.week+1)}}]),n}(),B=function(){function n(e){Object(x.a)(this,n),this.name=void 0,this.shifts=[],this.preferences=[],this.name=e}return Object(O.a)(n,[{key:"addShift",value:function(n){this.shifts.push(n)}},{key:"removeShift",value:function(n){this.shifts=this.shifts.filter((function(e){return e!=n}))}},{key:"printShifts",value:function(){var n=this.shifts.map((function(n){return{day:n.day,time:n.time}}));console.log(n)}},{key:"hasPreference",value:function(n,e){return void 0!==this.getPreference(n,e)}},{key:"addPreference",value:function(n){if(n instanceof z===!1)throw new Error("Expected an object of type Preferene but got ".concat(typeof n," instead"));if(this.preferences.find((function(e){return e.shiftTimeStamp===n.shiftTimeStamp})))throw new Error("A Preference in this time already exists for this student");return this.preferences.push(n),!0}},{key:"removePreference",value:function(n){var e=this.preferences.findIndex((function(e){return e.shiftTimeStamp===n}));if(-1===e)throw new Error("Student does not have a preference for this shift");console.log("here"),this.preferences.splice(e,1)}},{key:"getPreference",value:function(n,e){return this.preferences.find((function(t){return t.shiftTimeStamp===n&&t.available===e}))}},{key:"getPreferences",value:function(){return this.preferences.slice()}},{key:"handlePrefOfShift",value:function(n,e){var t=this.getPreference(n.timeStamp,!0),i=this.getPreference(n.timeStamp,!1);if(t||i)switch(e){case"assign":t?t.handled=!0:i.handled=!1;break;case"unassign":t?t.handled=!1:i.handled=!0}}},{key:"printPreferences",value:function(){this.preferences.map((function(n){return console.log(n)}))}}]),n}(),z=function(){function n(e,t,i){Object(x.a)(this,n),this.student=void 0,this.shiftTimeStamp=void 0,this.available=void 0,this.handled=void 0,this.student=e,this.shiftTimeStamp=t,this.available=i,this.handled=!1}return Object(O.a)(n,[{key:"getTimeObject",value:function(){var n=Math.floor(this.shiftTimeStamp/P),e=Math.floor((this.shiftTimeStamp-P*n)/T),t=Math.floor((this.shiftTimeStamp-n*P-e*T)/C);return{week:n,day:e,time:0===t?"morning":1===t?"noon":"evening"}}},{key:"getTimeString",value:function(){var n=this.getTimeObject(),e=n.week,t=n.day,i=n.time;return"".concat(A[t],", ").concat(i,", week ").concat(e+1)}}]),n}(),W=function(){function n(e,t,i){Object(x.a)(this,n),this.morning=void 0,this.noon=void 0,this.evening=void 0,this.morning=e||(arguments.length<=3?void 0:arguments[3]),this.noon=t||(arguments.length<=4?void 0:arguments[4]),this.evening=i||(arguments.length<=5?void 0:arguments[5])}return Object(O.a)(n,[{key:"getMorning",value:function(){return this.morning}},{key:"getNoon",value:function(){return this.noon}},{key:"getEvening",value:function(){return this.evening}},{key:"getAllShifts",value:function(){return[this.morning,this.noon,this.evening]}},{key:"getShiftByTime",value:function(n){switch(n){case"morning":return this.morning;case"noon":return this.noon;case"evening":return this.evening}console.log("Time is ilegal. Should be one of morning, noon, evening")}}]),n}(),M=t(28),N=t(27),F=t(8),I=t(12),U=function(){function n(){Object(x.a)(this,n),this.students=[],this.shifts=[],this.HeuristicTreshold=void 0,this.WeekendTreshold=void 0,this.initShifts(),this.HeuristicTreshold=0,this.WeekendTreshold=0}return Object(O.a)(n,[{key:"addStudent",value:function(n){if(n=Object(I.capitalize)(n.toLowerCase()),-1!==this.students.findIndex((function(e){return e.name===n})))throw new Error("Student already exist");var e=new B(n);return this.students.push(e),this.HeuristicTreshold=R(this.students.length,7*this.shifts.length),this.WeekendTreshold=24/this.students.length,e}},{key:"removeStudent",value:function(n){n=Object(I.capitalize)(n.toLowerCase());var e=this.students.findIndex((function(e){return e.name===n}));if(-1===e)throw new Error("Student does not exist");this.students.splice(e,1),this.syncShiftsAndStudents(),this.HeuristicTreshold=R(this.students.length,7*this.shifts.length),this.WeekendTreshold=24/this.students.length}},{key:"getStudent",value:function(n){return n=Object(I.capitalize)(n.toLowerCase()),this.students.find((function(e){return e.name===n}))}},{key:"getAllStudents",value:function(){return this.students.slice()}},{key:"addPreferenceToStudent",value:function(n,e,t){var i=this.students.find((function(e){return e.name===n}));if(!i)throw new Error("Student does not exist");if(t<0||t>24192e5||t%C!==0)throw new Error("Timestamp is ilegal. Check it is positive, not larger than ".concat(24192e5," and points to the begining of the shift"));var r=new z(i,t,e);try{return i.addPreference(r),!0}catch(a){throw a}}},{key:"removePreferenceFromStudent",value:function(n,e){var t=this.students.find((function(e){return e.name===n}));if(!t)throw new Error("Student does not exist");if(e<0||e>24192e5||e%C!==0)throw new Error("Timestamp is ilegal. Check it is positive, not larger than ".concat(24192e5," and points to the begining of the shift"));try{var i;return t.removePreference(e),null===(i=this.getShiftByStamp(e))||void 0===i||i.removeUnavailable(t),!0}catch(r){throw r}}},{key:"getShift",value:function(n,e,t){var i;if(this.shifts[n-1])return null===(i=this.shifts[n-1][e-1])||void 0===i?void 0:i.getShiftByTime(t)}},{key:"getShiftByStamp",value:function(n){var e=Math.floor(n/P),t=Math.floor((n-P*e)/T),i=Math.floor((n-e*P-t*T)/C),r=0===i?"morning":1===i?"noon":"evening";return this.getShift(e+1,t+1,r)}},{key:"getAllShifts",value:function(){return this.shifts.slice()}},{key:"assignStudentToShift",value:function(n,e){e.unassignStudent(),e.assignStudent(n)}},{key:"organize",value:function(){var n=this,e=this.shifts,t=this.students,i=[],r=[];t.forEach((function(n){return n.preferences.forEach((function(n){n.available?i.push(n):r.push(n)}))})),i.forEach((function(e){var t=e.getTimeObject(),i=t.week,r=t.day,a=t.time,o=n.getShift(i+1,r+1,a);o.chosen&&o.chosen.hasPreference(e.shiftTimeStamp,e.available)||n.assignStudentToShift(e.student,o)})),r.forEach((function(n){var t=n.getTimeObject(),i=t.week,r=t.day,a=t.time;e[i][r].getShiftByTime(a).addUnavailable(n.student),n.handled=!0}));var a=function(n,e,t,i,r,a){for(var o=n,s=1;s<t;s++){if(console.log(s),H(o,r,a))return o;var c=D(n,r),u=L(c,e,r);a.assignStudentToShift(u,c)}return o}(e,t,1e3,this.HeuristicTreshold,this.WeekendTreshold,this);return this.shifts=a,console.log(this.HeuristicTreshold),a}},{key:"getWarnings",value:function(){var n,e=[],t=Object(F.a)(this.students);try{for(t.s();!(n=t.n()).done;){var i=n.value,r=0;i.shifts.sort((function(n,e){return n.timeStamp-e.timeStamp}));for(var a=0;a<i.shifts.length;a++)i.shifts[a].isAdjacent(i.shifts[a+1])&&e.push("Student ".concat(i.name," has consecutive shifts on ").concat(i.shifts[a].prettyPrintTime())),i.shifts[a].isStudentUnavailable(i)&&e.push("Student ".concat(i.name," was assigned a shift on ").concat(i.shifts[a].prettyPrintTime(),", but preferes not to")),i.shifts[a].isSpecial&&r++;r>this.WeekendTreshold+1&&e.push("Student ".concat(i.name," Has ").concat(r," weekend Shifts. ").concat(Math.floor(r-this.WeekendTreshold)," more than allowed."))}}catch(o){t.e(o)}finally{t.f()}return e}},{key:"initShifts",value:function(){this.shifts=[0,1,2,3].map((function(n){return[0,1,2,3,4,5,6].map((function(e){return e>=5?new W(new E(e,n,"morning",!0),new E(e,n,"noon",!0),new E(e,n,"evening",!0)):new W(new E(e,n,"morning"),new E(e,n,"noon"),new E(e,n,"evening"))}))}))}},{key:"syncShiftsAndStudents",value:function(){var n,e=Object(F.a)(this.shifts);try{for(e.s();!(n=e.n()).done;){var t,i=n.value,r=Object(F.a)(i);try{for(r.s();!(t=r.n()).done;){var a,o=t.value,s=Object(F.a)(o.getAllShifts());try{for(s.s();!(a=s.n()).done;){var c=a.value;c.chosen&&(this.students.includes(c.chosen)||c.unassignStudent())}}catch(u){s.e(u)}finally{s.f()}}}catch(u){r.e(u)}finally{r.f()}}}catch(u){e.e(u)}finally{e.f()}}},{key:"cloneShifts",value:function(){return this.shifts.map((function(n){return n.map((function(n){return Object(M.a)(W,[void 0,void 0,void 0].concat(Object(N.a)(n.getAllShifts().map((function(n){return new E(n.day,n.week,n.time,n.isSpecial)})))))}))}))}},{key:"cloneStudents",value:function(){return this.students.map((function(n){return new B(n.name)}))}}]),n}();function H(n,e,t){var i,r=!0,a={},o=Object(F.a)(n);try{for(o.s();!(i=o.n()).done;){var s,c=i.value,u=Object(F.a)(c);try{for(u.s();!(s=u.n()).done;){var l,f=s.value,h=Object(F.a)(f.getAllShifts());try{for(h.s();!(l=h.n()).done;){var d=l.value;if(!d.chosen){r=!1;break}if(d.isStudentUnavailable(d.chosen)){r=!1;break}d.isSpecial&&(a[d.chosen.name]=a[d.chosen.name]?a[d.chosen.name]+1:1);var v=t.getShiftByStamp(d.timeStamp+C),m=t.getShiftByStamp(d.timeStamp-C);if(d.hasSameStudent(v)||d.hasSameStudent(m)){r=!1;break}}}catch(b){h.e(b)}finally{h.f()}}}catch(b){u.e(b)}finally{u.f()}}}catch(b){o.e(b)}finally{o.f()}if(r){console.log(a);for(var g=0,p=Object.values(a);g<p.length;g++){if(p[g]>e+1){r=!1;break}}}return r}function D(n,e){var t=Object(I.flatMapDepth)(n,(function(n){return n.map((function(n){return n.getAllShifts()}))}),2).filter((function(n){return!n.chosen}));return t.length||(t=Object(I.flatMapDepth)(n,(function(n){return n.map((function(n){return n.getAllShifts()}))}),2).filter((function(n,t,i){return n.hasSameStudent(i[t+1])||n.hasSameStudent(i[t-1])||n.isStudentUnavailable(n.chosen)||n.isSpecial&&n.chosen.shifts.filter((function(n){return n.isSpecial})).length>e}))),t[Math.floor(Math.random()*t.length)]}function L(n,e,t){var i=e.map((function(e){return{conflicts:J(e,n,t),student:e}})).sort((function(n,e){return n.conflicts-e.conflicts}))[0];return console.log(i),i.student}function J(n,e,t){return n.shifts.length<=1?e.isAdjacent(n.shifts[0])?1:0:e.isStudentUnavailable(n)||e.isSpecial&&n.shifts.filter((function(n){return n.isSpecial})).length>t?1:1/(n.shifts.map((function(n){return n.timeStamp})).concat(e.timeStamp).sort((function(n,e){return n-e})).reduce((function(n,e,t,i){return t===i.length-1?n:n+(i[t+1]-e)/C}),0)/n.shifts.length)}function R(n,e){return 1/(n-1)}function V(n){var e=n.addFunction,t=Object(r.useCallback)(Object(h.a)(f.a.mark((function n(){var t,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.fire({title:"Enter New Student's Name",input:"text",showCancelButton:!0,inputPlaceholder:"Name...",inputValidator:function(n){return n?null:"Please enter a valid name"}});case 2:t=n.sent,(i=t.value)&&(e(i)?m.a.fire("Woohoo!","Student ".concat(i," added!"),"success"):m.a.fire("Oops..","Student ".concat(i," alredy exists!"),"error"));case 5:case"end":return n.stop()}}),n)}))),[]);return Object(i.jsx)("div",{onClick:t,children:"Add Student"})}var Y=t(14),K=t(19);function $(){var n=Object(c.a)(["\n  background-color: ",";\n  color: #e0dede;\n  width: fit-content;\n  height: fit-content;\n  padding: 8px 5px;\n  border-radius: 10px;\n  font-size: 0.9em;\n  cursor: pointer;\n"]);return $=function(){return n},n}function q(){var n=Object(c.a)(["\n  color: rgb(238, 34, 56);\n  font-size: 1.2em;\n  cursor: pointer;\n  margin: 0 auto;\n\n  :hover {\n  }\n"]);return q=function(){return n},n}function G(){var n=Object(c.a)(["\n  background-color: ",";\n  display: grid;\n  align-items: center;\n  grid-template-columns: 1fr 8fr 1fr;\n  margin: 1% 0;\n  padding: 1% 2%;\n"]);return G=function(){return n},n}function Q(){var n=Object(c.a)(["\n  /* background-color: green; */\n  height: 65%;\n  overflow-y: auto;\n  ::-webkit-scrollbar {\n    width: 2px;\n  }\n\n  /* Track */\n  ::-webkit-scrollbar-track {\n    background: #f1f1f1;\n  }\n\n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: #888;\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: #555;\n  }\n"]);return Q=function(){return n},n}function X(){var n=Object(c.a)(["\n  display: grid;\n  align-items: flex-end;\n  grid-template-columns: 3fr 1.8fr;\n  margin-bottom: 10px;\n  h3 {\n    margin: 3%;\n    font-size: 2.2em;\n  }\n"]);return X=function(){return n},n}function Z(){var n=Object(c.a)(["\n  background-color: rgb(23, 20, 20);\n  color: wheat;\n  display: flex;\n  flex-direction: column;\n  margin: 10px 2vw;\n  min-width: 20%;\n  width: 20%;\n  height: 82%;\n  padding: 8px 12px;\n  border-radius: 5px;\n  box-shadow: -3px 4px 8px 2px rgba(240, 250, 252, 0.8);\n"]);return Z=function(){return n},n}function _(){var n=Object(c.a)(["\n  /* background-color: red; */\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  width: 99%;\n  height: 28vh;\n  min-height: 24vh;\n  margin: auto;\n  overflow-x: auto;\n  ::-webkit-scrollbar {\n    height: 5px;\n  }\n\n  /* Track */\n  ::-webkit-scrollbar-track {\n    background: rgba(15, 15, 15, 0.6);\n  }\n\n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: #888;\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: #555;\n  }\n"]);return _=function(){return n},n}var nn=["Sunday","Monday","Tuseday","Wednesday","Thursday","Friday","Saturday"],en=[0,1,2,3,4,5,6].reduce((function(n,e){return n+"<option value=".concat(e,">").concat(nn[e],"</option>")}),"");function tn(n){var e=n.students,t=n.addPref,a=n.rmvPref,o=n.rmvStudent,s=Object(r.useCallback)(function(){var n=Object(h.a)(f.a.mark((function n(e){var i,r,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.fire({title:"Enter Preference Details",html:"<br/>"+'<em>Week</em> <select id="pref-modal-week">'.concat([0,1,2,3].reduce((function(n,e){return n+"<option value=".concat(e,">week ").concat(e+1,"</option>")}),""),"<select>  ")+'<em>Day</em> <select id="pref-modal-day">'.concat(en,"<select>   ")+'<em>Shift</em> <select id="pref-modal-time"><option value=0>morning</option><option value=1>noon</option><option value=2>evening</option><select><br/><br/><input type="checkbox" id="pref-modal-av" class="swal-input">  <em>Available</em></input>',showCancelButton:!0,preConfirm:function(){var n,e,t,i;return[null===(n=document.getElementById("pref-modal-week"))||void 0===n?void 0:n.value,null===(e=document.getElementById("pref-modal-day"))||void 0===e?void 0:e.value,null===(t=document.getElementById("pref-modal-time"))||void 0===t?void 0:t.value,null===(i=document.getElementById("pref-modal-av"))||void 0===i?void 0:i.checked]}});case 2:i=n.sent,(r=i.value)&&(!0===(a=t(e,P*parseInt(r[0])+T*parseInt(r[1])+C*parseInt(r[2]),r[3]))?m.a.fire("Woohoo!","Preference was added!","success"):a instanceof Error?m.a.fire("Oops...",a.message,"error"):m.a.fire("Oops...","Unknown error occured :( \n Sorry..."));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[]),c=Object(r.useCallback)(function(){var n=Object(h.a)(f.a.mark((function n(e,t){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:m.a.fire({title:"Are you sure?",text:"Delete prefrence ".concat(e.getTimeString()," for ").concat(t.name,"?"),icon:"warning",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",confirmButtonText:"Delete"}).then((function(n){if(n.isConfirmed){var i=a(t.name,e.shiftTimeStamp);!0===i?m.a.fire("Deleted!","","success"):(console.log(i),m.a.fire("oops...","","error"))}}));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[]),u=Object(r.useCallback)(function(){var n=Object(h.a)(f.a.mark((function n(e){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:m.a.fire({title:"Delete student ".concat(e,"?"),text:"This is irreversiable!",icon:"warning",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",confirmButtonText:"Delete"}).then((function(n){if(n.isConfirmed){var t=o(e);!0===t?m.a.fire("OK","Student ".concat(e," deleted"),"success"):t instanceof Error&&(console.log(t),m.a.fire("oops...",t.message,"error"))}}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[]);return Object(i.jsx)(rn,{"data-flick":!0,children:e.length>0?e.map((function(n){return Object(i.jsxs)(an,{className:"caroucell",children:[Object(i.jsxs)(on,{children:[Object(i.jsx)("h3",{children:n.name}),Object(i.jsx)(ln,{bgcolor:"#5f0101",onClick:function(){return u(n.name)},children:"Remove Student"})]}),Object(i.jsx)(sn,{children:n.getPreferences().map((function(e,t){return Object(i.jsxs)(cn,{available:e.available,children:[e.handled?Object(i.jsx)(K.a,{style:{fontSize:"1.5em"}}):Object(i.jsx)(K.b,{style:{fontSize:"1.5em"}}),e.getTimeString(),Object(i.jsx)(un,{onClick:function(){return c(e,n)},children:Object(i.jsx)(Y.c,{})})]},"pref-".concat(n.name,"-").concat(t))}))}),Object(i.jsx)(ln,{onClick:function(){return s(n.name)},children:"Add Pref"})]},"student-".concat(n.name))})):Object(i.jsx)("span",{style:{textAlign:"center",fontSize:"1.5em",margin:"0 auto"},children:"No Students Exist"})})}var rn=d.a.div(_()),an=d.a.div(Z()),on=d.a.div(X()),sn=d.a.div(Q()),cn=d.a.div(G(),(function(n){return n.available?"#1a641e":"rgb(126,5,5)"})),un=d.a.span(q()),ln=d.a.span($(),(function(n){return n.bgcolor?n.bgcolor:"#928619"})),fn=t(26),hn=t(25);t(42);function dn(){var n=Object(c.a)(["\n  background-color: rgba(238, 106, 18, 0.65);\n  color: #3d0101;\n  width: 8vw;\n  height: 2vh;\n  margin: 0.5vh;\n  padding: 6px 5px;\n  border-radius: 5px;\n  font-size: 0.9em;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  transition: 0.2s ease-in-out;\n\n  :hover {\n    width: fit-content;\n  }\n"]);return dn=function(){return n},n}function vn(){var n=Object(c.a)(["\n  position: absolute;\n  width: 100vw;\n  top: 0;\n  z-index: 2;\n"]);return vn=function(){return n},n}function mn(){var n=Object(c.a)(["\n  font-size: 3em;\n  margin: 0 2vw;\n  cursor: pointer;\n  transition: 0.15s ease-in-out;\n\n  :hover {\n    transform: translate(\n      ",",\n      0\n    );\n  }\n"]);return mn=function(){return n},n}function gn(){var n=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: 1.5vh;\n  div {\n    background-color: wheat;\n    color: rgb(149, 7, 38);\n    font-weight: bold;\n    padding: 14px 8px;\n    width: fit-content;\n    font-size: 1.1em;\n    border-radius: 15px;\n    margin: 0 1vw;\n    cursor: pointer;\n    transition: 0.1s ease-in-out;\n  }\n\n  div:hover {\n    transform: translate(0px, -5px);\n    box-shadow: 0px 0px 4px 4px rgba(236, 234, 197, 0.8);\n  }\n"]);return gn=function(){return n},n}function pn(){var n=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 2vh;\n  span {\n    font-size: 2em;\n    height: 100%;\n  }\n"]);return pn=function(){return n},n}function bn(){var n=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.8em;\n  margin-bottom: 3vh;\n"]);return bn=function(){return n},n}var Sn=[{week:0,day:0,shift:0,available:!0},{week:0,day:0,shift:0,available:!0},{week:0,day:3,shift:1,available:!1},{week:0,day:6,shift:2,available:!1},{week:0,day:2,shift:0,available:!0},{week:0,day:4,shift:2,available:!1},{week:0,day:5,shift:1,available:!1}],yn=new U;["Nitzan","Nadav","Asaf","Shimon","Anna","Lahav","Idan"].forEach((function(n,e){var t=yn.addStudent(n),i=Sn[e],r=new z(t,i.week*P+i.day*T+i.shift*C,i.available);t.addPreference(r)}));var jn=function(){var n=Object(r.useState)(yn.getAllStudents()),e=Object(u.a)(n,2),t=e[0],a=e[1],o=Object(r.useState)(yn.getAllShifts()),s=Object(u.a)(o,2),c=s[0],l=s[1],f=Object(r.useState)(0),h=Object(u.a)(f,2),d=h[0],v=h[1],g=yn.getWarnings();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Pn,{children:g.map((function(n){return Object(i.jsxs)(Cn,{children:[Object(i.jsx)(hn.a,{style:{margin:"0 10px",fontSize:"1.2em"}}),n]})}))}),Object(i.jsxs)(kn,{children:["Shift Organizer ",Object(i.jsx)(fn.a,{style:{marginLeft:"1vw"}})]}),Object(i.jsxs)(On,{children:[Object(i.jsx)(V,{addFunction:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yn;try{var t=e.addStudent(n);return a(e.getAllStudents()),t}catch(i){return console.log(i),!1}}}),Object(i.jsx)("div",{onClick:function(){t.length<1?m.a.fire("Sorry","You need to have at least one student to organize shifts","info"):t.length<7?m.a.fire({title:"Hey!",text:"Only ".concat(t.length," ").concat(t.length>1?"students are":"student is"," saved in the system. Procceed?"),showDenyButton:!0,confirmButtonText:"Yes",denyButtonText:"No"}).then((function(n){n.isConfirmed&&(yn.organize(),l(yn.getAllShifts()))})):(yn.organize(),l(yn.getAllShifts()))},children:"Organize!"})]}),Object(i.jsx)(tn,{students:t,addPref:function(n,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yn;try{return i.addPreferenceToStudent(n,t,e),a(i.getAllStudents()),!0}catch(r){return r}},rmvPref:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yn;try{return t.removePreferenceFromStudent(n,e),a(t.getAllStudents()),!0}catch(i){return i}},rmvStudent:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yn;try{return e.removeStudent(n),a(e.getAllStudents()),!0}catch(t){return console.log(t),t}}}),Object(i.jsxs)(xn,{children:[Object(i.jsx)(Tn,{opdir:!1,onClick:function(){return v((function(n){return wn(3,0,n-1)}))},children:Object(i.jsx)(Y.a,{})}),Object(i.jsxs)("span",{children:["Week ",d+1]}),Object(i.jsx)(Tn,{opdir:!0,onClick:function(){return v((function(n){return wn(3,0,n+1)}))},children:Object(i.jsx)(Y.b,{})})]}),Object(i.jsx)(y,{shifts:c[d],replaceFunc:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yn,i=t.getStudent(n);return!!i&&(t.assignStudentToShift(i,e),a(t.getAllStudents()),!0)}})]})};function wn(n,e,t){return Math.max(e,Math.min(n,t))}var kn=d.a.h1(bn()),xn=d.a.div(pn()),On=d.a.div(gn()),Tn=d.a.div(mn(),(function(n){return n.opdir?"5px":"-5px"})),Pn=d.a.div(vn()),Cn=d.a.div(dn()),An=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,44)).then((function(e){var t=e.getCLS,i=e.getFID,r=e.getFCP,a=e.getLCP,o=e.getTTFB;t(n),i(n),r(n),a(n),o(n)}))},En=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Bn(n,e){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(jn,{})}),document.getElementById("root")),An(),function(n){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");En?(!function(n,e){fetch(n,{headers:{"Service-Worker":"script"}}).then((function(t){var i=t.headers.get("content-type");404===t.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):Bn(n,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Bn(e,n)}))}}()}},[[43,1,2]]]);
//# sourceMappingURL=main.699f96fd.chunk.js.map